"use strict";(self.webpackChunkEcommerce=self.webpackChunkEcommerce||[]).push([[2199],{2199:(P,u,a)=>{a.r(u),a.d(u,{AuthModule:()=>O});var p=a(6814),s=a(95),d=a(2058),n=a(9468),m=a(738),g=a(9843);let _=(()=>{var t;class e{}return(t=e).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-loading-spinner"]],decls:5,vars:0,consts:[[1,"lds-ring"]],template:function(o,r){1&o&&(n.TgZ(0,"div",0),n._UZ(1,"div")(2,"div")(3,"div")(4,"div"),n.qZA())},styles:[".lds-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#007bff transparent transparent transparent}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s}@keyframes _ngcontent-%COMP%_lds-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),e})();function h(t,e){1&t&&(n.TgZ(0,"div",5),n._UZ(1,"app-loading-spinner"),n.qZA())}function f(t,e){if(1&t&&(n.TgZ(0,"div",6),n._uU(1),n.qZA()),2&t){const i=n.oxw();n.xp6(1),n.hij(" ",i.error," ")}}function v(t,e){1&t&&(n.TgZ(0,"p"),n._UZ(1,"ion-icon",21),n._uU(2,"Email is required"),n.qZA())}function x(t,e){1&t&&(n.TgZ(0,"p"),n._UZ(1,"ion-icon",21),n._uU(2,"Email must contain at least the @ character"),n.qZA())}function A(t,e){if(1&t&&(n.TgZ(0,"div",6),n.YNc(1,v,3,0,"p",20),n.YNc(2,x,3,0,"p",20),n.qZA()),2&t){n.oxw();const i=n.MAs(5);n.xp6(1),n.Q6J("ngIf",i.errors.required),n.xp6(1),n.Q6J("ngIf",i.errors.pattern)}}function C(t,e){1&t&&(n.TgZ(0,"p"),n._UZ(1,"ion-icon",21),n._uU(2,"Password is required"),n.qZA())}function b(t,e){1&t&&(n.TgZ(0,"p"),n._UZ(1,"ion-icon",21),n._uU(2,"Password must be at least 6 characters long"),n.qZA())}function M(t,e){if(1&t&&(n.TgZ(0,"div",6),n.YNc(1,C,3,0,"p",20),n.YNc(2,b,3,0,"p",20),n.qZA()),2&t){n.oxw();const i=n.MAs(11);n.xp6(1),n.Q6J("ngIf",i.errors.required),n.xp6(1),n.Q6J("ngIf",i.errors.minlength)}}function Z(t,e){if(1&t){const i=n.EpF();n.TgZ(0,"div",7)(1,"form",8,9),n.NdJ("ngSubmit",function(){n.CHM(i);const r=n.MAs(2),c=n.oxw();return n.KtG(c.submitForm(r))}),n.TgZ(3,"div",10)(4,"input",11,12),n.NdJ("click",function(){n.CHM(i);const r=n.oxw();return n.KtG(r.removeError())}),n.qZA(),n.TgZ(6,"label",13),n._uU(7,"Email"),n.qZA()(),n.YNc(8,A,3,2,"div",3),n.TgZ(9,"div",10),n._UZ(10,"input",14,15),n.TgZ(12,"label",16),n._uU(13,"Password"),n.qZA()(),n.YNc(14,M,3,2,"div",3),n.TgZ(15,"div",17)(16,"button",18),n._uU(17),n.qZA(),n.TgZ(18,"button",19),n.NdJ("click",function(){n.CHM(i);const r=n.oxw();return n.KtG(r.changeLogedValue())}),n._uU(19),n.qZA()()()()}if(2&t){const i=n.MAs(2),o=n.MAs(5),r=n.MAs(11),c=n.oxw();n.xp6(8),n.Q6J("ngIf",o.errors&&o.touched),n.xp6(6),n.Q6J("ngIf",r.errors&&r.touched),n.xp6(2),n.Q6J("disabled",!i.valid),n.xp6(1),n.Oqu(c.loginValue?"Log In":"Sign Up"),n.xp6(2),n.hij("swich to ",c.loginValue?"Sign Up":"Log In","")}}const T=[{path:"",component:(()=>{var t;class e{constructor(o,r){this.authService=o,this.router=r,this.loginValue=!1,this.error="",this.isloading=!1,this.islogedIn=!1,this.sginUpText=""}ngOnInit(){}removeError(){this.error=""}changeLogedValue(){this.loginValue=!this.loginValue}submitForm(o){if(o.valid){const r=o.value.email,c=o.value.password;this.isloading=!0,this.loginValue?this.authService.signIn(r,c).subscribe(l=>{console.log(l),this.router.navigate(["/"]),this.islogedIn=!0,this.isloading=!1},l=>{this.error=l,this.isloading=!1}):this.authService.signUp(r,c).subscribe(l=>{console.log(l),this.router.navigate(["/"]),this.islogedIn=!0,this.isloading=!1},l=>{this.error=l.message,this.isloading=!1}),o.reset()}}}return(t=e).\u0275fac=function(o){return new(o||t)(n.Y36(m.e),n.Y36(d.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-auth"]],decls:10,vars:3,consts:[[1,"container"],[1,"form-container"],["class","loading-spinner",4,"ngIf"],["class","error",4,"ngIf"],["class","form",4,"ngIf"],[1,"loading-spinner"],[1,"error"],[1,"form"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group","text"],["type","email","id","email","name","email","ngModel","","required","","email","","pattern","[^ @]*@[^ @]*",3,"click"],["email","ngModel"],["for","email"],["type","password","id","password","name","password","ngModel","","required","","minlength","6"],["password","ngModel"],["for","password"],[1,"buttons"],["type","submit",1,"submit",2,"margin-bottom","10px",3,"disabled"],["type","button",3,"click"],[4,"ngIf"],["name","alert-circle-outline"]],template:function(o,r){1&o&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h1"),n._uU(3,"Authentication Form"),n.qZA(),n.YNc(4,h,2,0,"div",2),n.YNc(5,f,2,1,"div",3),n.YNc(6,Z,20,5,"div",4),n._UZ(7,"br")(8,"br")(9,"br"),n.qZA()()),2&o&&(n.xp6(4),n.Q6J("ngIf",r.isloading),n.xp6(1),n.Q6J("ngIf",r.error),n.xp6(1),n.Q6J("ngIf",!r.isloading&&!r.islogedIn))},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.c5,s.on,s.On,s.F,g.gu,_],styles:[".form-container[_ngcontent-%COMP%]{width:400px;margin-inline:auto;margin-block:20px;padding:15px;box-shadow:var(--shadow-1);border-radius:10px}.form-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--main-color);padding-block:30px;font-weight:var(--fw-700)}@media screen and (max-width: 576px){.form-container[_ngcontent-%COMP%]{width:90%}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;gap:10px;align-items:flex-start}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:var(--fs-8);padding:10px 15px}.container[_ngcontent-%COMP%]{padding-inline:10px}}@media screen and (max-width: 450px){.form-container[_ngcontent-%COMP%]{width:100%}.form-container[_ngcontent-%COMP%]{box-shadow:none;padding:0}}"]}),e})()}];let w=(()=>{var t;class e{}return(t=e).\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[d.Bz.forChild(T),d.Bz]}),e})(),O=(()=>{var t;class e{}return(t=e).\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[p.ez,w,s.UX,s.u5,g.Pc]}),e})()}}]);